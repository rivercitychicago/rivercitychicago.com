<!doctype html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  {.if template.mobileStylesEnabled}
  <meta name="viewport" content="width=device-width,initial-scale=1">
  {.end}
  {squarespace-headers}

  <!-- <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,700italic' rel='stylesheet' type='text/css'> -->
  <!-- <link href='https://fonts.googleapis.com/css?family=Alegreya:400,400italic,700,700italic|Open+Sans:400,700|Lora:400,400italic,700,700italic|PT+Serif:400,400italic,700,700italic|Volkhov:400,400italic,700,700italic' rel='stylesheet' type='text/css'> -->
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700|Lora:400,400italic,700,700italic' rel='stylesheet' type='text/css'>

  <squarespace:script src="main.js" />
</head>

<body id="{squarespace.page-id}" class="{squarespace.page-classes}{.section website}{.section logoImageUrl} logo-image{.or} site-title{.end}{.end}">

  <header id="header" class="header">
    <div class="constraint grid--gutter">
      <div id="logo" class="logo" data-content-field="site-title">
        {.section website}
          {.section logoImageUrl}
            <img src="{@}">
          {.or}
            <img src="/assets/logo.svg" alt="">
          {.end}
        {.end}
      </div>

      <script>
        // Y.use('squarespace-ui-base', function(Y) {
        //   Y.one("h1.logo").plug(Y.Squarespace.TextShrink, {
        //     minFontSize: 18,
        //     parentEl: Y.one('#header')
        //   });
        // });
      </script>

      <nav class="topNav" id="topNav">
        <squarespace:navigation navigationId="mainNav" template="navigation" />
      </nav>
    </div>
  </header>

  <div id="canvasWrapper">
    <div id="canvas">

    <div id="pageWrapper">
      <section id="page">

        {.section collection}
          {.collectionTypeNameEquals? blog}
            <aside id="sidebarWrapper">
              <div id="sidebar">
                <squarespace:block-field id="sidebarBlocks" label="Sidebar Content" />
              </div>
            </aside>
          {.end}
        {.end}

        <!-- CATEGORY NAV -->
        {.section collection}{.equal? typeName "products"}{.section categories}
        <div id="categoryNav">
          <input type="checkbox" name="category-nav-toggle" id="categoryNavToggle" class="category-nav-toggle hidden" />
          <label for="categoryNavToggle" class="category-nav-toggle-label" onclick></label>
          <nav class="category-nav">
            <ul class="category-nav-links">
              <li class="filter"><a>Filter{.if categoryFilter}: {categoryFilter}{.end}</a></li>
              <li{.if categoryFilter}{.or} class="active-link all"{.end}><a href="{fullUrl}">All</a></li>
              {.repeated section @}
              <li{.equal? categoryFilter @} class="active-link"{.end}><a href="{fullUrl}?category={@|url-encode}">{@}</a></li>
              {.end}
            </ul>
          </nav>
        </div>
        {.end}{.end}{.end}

        <div id="mainContent" role="main" data-content-field="main-content">
          {squarespace.main-content}
        </div>

      </section>
    </div>

    <div id="footerWrapper" class="footer">
      <div class="grid--max grid--gutter">
        <footer id="footer">
          <squarespace:block-field id="footerBlocks-1" columns="12" label="Footer Content" />
          {.section website}
            {.if socialAccounts}
            <div id="footerBlocks-2" class="social-links" data-content-field="connected-accounts">
              {.repeated section socialAccounts}<a{.if profileUrl} href="{profileUrl}" target="_blank"{.or} title="{screenname}"{.end} class="social-{serviceName}"></a>{.end}
            </div>
            {.end}
          {.end}
        </footer>
        <div class="sqs-footer-injection">{squarespace-footers}</div>
      </div>
    </div>

  </div></div>

  <nav class="mobileNav" id="mobileNav">
    <squarespace:navigation navigationId="mainNav" template="navigation" />
  </nav>

  <script>
  // Y.use('node', function(Y) {
  //   Site.vertAlignCanvas();
  // });
  </script>

</body>
</html>
